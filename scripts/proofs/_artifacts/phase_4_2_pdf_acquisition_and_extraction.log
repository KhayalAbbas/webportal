=== PHASE 4.2 PDF ACQUISITION + EXTRACTION PROOF ===
API Base: http://localhost:8005
Tenant: b3909011-8bd3-439d-a421-3b70fae124e9
Fixture bytes: 623
--- PRE-FLIGHT ---
Python: 3.11.9 (tags/v3.11.9:de54cf5, Apr  2 2024, 10:12:12) [MSC v.1938 64 bit (AMD64)]
python -V: Python 3.11.9
git status -sb (C:\\Program Files\\Git\\cmd\\git.exe): ## master...origin/master [ahead 1]
 M app/models/company_research.py
 M app/routers/company_research.py
 M app/schemas/company_research.py
 M app/services/company_extraction_service.py
 M app/services/company_research_service.py
 M requirements.txt
?? alembic/versions/0d021d1c7755_add_pdf_storage_fields.py
?? scripts/proofs/phase_4_2_pdf_acquisition_and_extraction.py
alembic current: 0d021d1c7755 (head)
alembic heads: 0d021d1c7755 (head)
DB ping (postgresql://postgres:postgres@localhost:5432/ats_db): DB_OK (1,)
Preflight saved to scripts\proofs\_artifacts\phase_4_2_preflight.txt
--- PRE-FLIGHT DONE ---
Existing API detected; skipping local uvicorn start
API ready; openapi.json loaded
Run created: 6ccb55d1-b998-4ae3-a764-d568fdedfe32
PDF source attached: 16ad9428-f374-4f76-b6f4-c61e62dea915
Run started (job a65ea0b2-5e8c-409a-96a3-133a8781fc67)
Worker pass 1: process=succeeded finalize=pending
Worker pass 2: process=succeeded finalize=succeeded
Source status: processed mime=application/pdf size=623 hash=f26d5a9d
Prospects created (2): blue river bank, nova lending
DB baseline: sources=1 prospects=2 events=1
DB sources snapshot: [{'id': UUID('16ad9428-f374-4f76-b6f4-c61e62dea915'), 'title': 'PDF Fixture', 'file_name': 'phase_4_2_fixture.pdf', 'status': 'processed', 'mime_type': 'application/pdf', 'content_size': 623, 'content_hash': 'f26d5a9d391ca005412f7480eb12be9b42324fa6e5a1e4618f59986477fce8c6', 'fetched_at': datetime.datetime(2026, 1, 3, 10, 20, 40, 612630, tzinfo=datetime.timezone.utc), 'meta': {'kind': 'pdf', 'file_name': 'phase_4_2_fixture.pdf', 'processed_at': '2026-01-03T10:20:40.647312+00:00', 'submitted_via': 'api', 'processed_summary': {'new': 2, 'existing': 0, 'extracted': 2}}, 'content_preview': 'Blue River Bank\nNova Lending'}]
DB prospects snapshot: [{'name_raw': 'Blue River Bank', 'name_normalized': 'blue river bank'}, {'name_raw': 'Nova Lending', 'name_normalized': 'nova lending'}]
--- IDEMPOTENCY CHECK (no new inputs) ---
Idempotency counts: before sources=1, after sources=1; before prospects=2, after prospects=2; before events=1, after events=1